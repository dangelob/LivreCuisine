%     Livre de Recette des D'ANGELO     %
%            - version 0.1 -            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Compilation : pdflatex
% recipe_converter ~/Documents/PROJETS/LivreCuisine/txtRecettes/ ~/Documents/PROJETS/LivreCuisine/recettes/


\documentclass[A4paper,twoside, 12pt]{book}

%-- Packages 
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}% polices 

\usepackage[french]{babel}

\usepackage[]{geometry}%Gestion des marges % [showframe]
\geometry{
 inner=2.5cm, %left
 outer=9cm, %right
 top=2.2cm,
 bottom=2.2cm, 
 marginparwidth=7cm,
 marginparsep=.5cm,
 a4paper=true,
 twoside=true
}

\usepackage{marginnote} %Permet les notes dans la marge

\usepackage{tocloft} % gestion de table de matières personnalisées (recette au chocolat)

\usepackage{makeidx}

% pour les liens cliquables de la table des matières
\usepackage[colorlinks=true,linkcolor=blue]{hyperref}

\usepackage{graphicx} %insertion d'image

%\usepackage{fancyhdr} %En-tête et pied de pages


\usepackage{textcomp} % pour  \degree
\usepackage{enumitem} % Gestion fine des listes

 % Gestion des titres
\usepackage[]{titlesec}

\usepackage{environ} % gestion des environnements
\usepackage[strict]{changepage} % permet de savoir si on est sur une page paire ou impaire (+ marges des titres de section)

%--------------------------------------------------------%
%-----------------------LES COMMANDES--------------------%
%--------------------------------------------------------%
%\newcommand{\sommaire}{\shorttoc{Sommaire}{1}} %change la commande pour inserer une short table of content
\newcommand{\HRule}{\rule{\textwidth}{0.5mm}} % utilisation page de titre


\titleformat{\part}[display]
{\fontfamily{pag}\selectfont\Huge}
{\thepart}
{20pt}
{\Huge}

% Cette commande fait perdre les header et footer
\newcommand{\chapitre}[1]{
	\chapter*{#1}
	\addcontentsline{toc}{chapter}{#1}
	\clearpage
	% \markboth{#1}{#1} 
}

%titlesec
\titleformat{\chapter}[display]
{\fontfamily{pag}\selectfont\huge}
{\chaptertitlename\ \thechapter}
{20pt}
{\Huge}
\titleformat{\section}
{\centering\fontfamily{pag}\selectfont\Large}
{\thesection}
{1em}
{}



%--------------------------------------------------------%
%----------EN-TÊTE ET PIED DE PAGE----------------%
%--------------------------------------------------------%
\input{speHeader}



%------------Table des matières-------------------%
% profondeur de la numérotation (les sections ne sont pas numérotée)(si on veut les sections avec un numéro :  \setcounter{secnumdepth}{1})
\setcounter{secnumdepth}{0}

%jusqu'à quelle profondeur sont inséré les titres dans le sommaire
\setcounter{tocdepth}{1}


%-------------------------------------------------------------------%
%---------------CONFIG ENVIRONMENTS----------------------%
%-------------------------------------------------------------------%



\NewEnviron{recette}[2]{
	\noindent
	\begin{minipage}[adjusting]{\textwidth}
		\checkoddpage
		\ifoddpage
		\begin{adjustwidth}{}{-6.5cm} % left and right, positive values to increase margin
			\section[#1]{#2}	
		\end{adjustwidth}
		\else
			\begin{adjustwidth}{-6.5cm}{} % left and right, positive values to increase margin
			\section[#1]{#2}	
		\end{adjustwidth}
	\fi	
			\BODY
	\end{minipage}
\vfill
}

\NewEnviron{ingredients}{
	\setlength\parskip{.3em}
	\checkoddpage
	\ifoddpage %si impaire
		\marginnote{
			\begin{flushright}
				\BODY
			\end{flushright}
		}
	\else
		\marginnote{
			\begin{flushleft}
				\BODY
			\end{flushleft}
		}
	\fi	
}




\NewEnviron{infos}{	
\bfseries
\checkoddpage

\ifoddpage %si impaire
\begin{flushleft}
	\BODY
\end{flushleft}
\else
\begin{flushright}
	\BODY
\end{flushright}
\fi
\normalfont

}
%\newcommand{\info}[]}{\textbf{#1}}

\NewEnviron{etapes}{
		\vspace{.5cm}
\begin{itemize}[label={}, leftmargin=0cm]
	\setlength{\itemsep}{5pt} % space between items
	\BODY
\end{itemize}

}

\NewEnviron{conseils}{
	\begin{center}
		\par\noindent\rule{.5\textwidth}{0.4pt} 
	\end{center}
	\BODY
	\vspace{1cm}
}

\makeindex

%------------Config List-------------------%
% Liste chocolat
\newcommand{\listchoconame}{Recettes au chocolat}
\newlistof{choco}{cho}{\listchoconame}

\newcommand{\choco}[1]{%
\refstepcounter{choco}
%\par\noindent\textbf{Answer \theanswer. #1}
\addcontentsline{cho}{choco}{\protect\numberline{\thechoco}#1}\par}

%\newcommand{\sectionbreak}{\clearpage} %clearpage before session
%%%%%%%%%%%%%%%%%%%%
%-----------Début du document----------%
%%%%%%%%%%%%%%%%%%%%
\begin{document}
		
\frontmatter
\input{./titre.tex}			% Titre
\cleardoublepage
\tableofcontents 		% Insertion table des matières

\mainmatter
\pagestyle{fancy}
\part{Les Recettes}

\restoregeometry

\input{./chapitre/salades}
\input{./chapitre/cakes}
\input{./chapitre/tartes}

	\chapitre{Pâtes}
\input{./recettes/patescarbonarafaconclaire}	
	\chapitre{Viandes**}
\input{./recettes/rotideporcaumiel}
\input{./recettes/rotideporcauxoignons}
\input{./recettes/lapinauxpruneaux}
\input{./recettes/boeufsauteaubrocolietauxoignons}
\input{./recettes/chopsueydeporc}
\input{./recettes/rosbeef}
\input{./recettes/Stirfrydeporcauxnouilles}
\input{./recettes/boeufcarottes}
\input{./recettes/boulettedeviande}
\input{./recettes/roti_de_porc_braise_aux_fenouils}
	\chapitre{Volailles**}
\input{./recettes/pouletalanormande}
\input{./recettes/aiguillettesdedindeaucitron}
\input{./recettes/poulardeauvinjauneetauxmorilles}
\input{./recettes/pouletalamoutardeestragonchampignons}
\input{./recettes/pouletalananas}
\input{./recettes/pouletaucurryetlaitdecoco}
\input{./recettes/pouletbasquaisefaconclaire}	
	\chapitre{Poissons}
\input{./recettes/papillotesaumonetjulienndelegumesauboursin}
\input{./recettes/saumon_papillottes}	
	\chapitre{Oeufs}
	\chapitre{Soupes}
\input{./recettes/soupeauchouvert}
\input{./recettes/soupenavetlardcroutons}
\input{./recettes/veloutedecourgetteauboursin}
\input{./recettes/carabaccia}
\input{./recettes/veloutetopinambours}
\input{./recettes/soupedepotiron}
\input{./recettes/soupeaulardetauxpoiscasses}
\input{./recettes/soupelentillescorail}
	\chapitre{Pains}
\input{./recettes/petitspainsauxlardons}
	\chapitre{Gratins}
	\chapitre{Plat unique ? (couscous choucroute)}
\input{./recettes/tartiflettefaconclaire}
\input{./recettes/chiliconcarne}
\input{./recettes/hamburgers}
\input{./recettes/rizauxsaucisses}		
	\chapitre{Non classés}
\input{./recettes/poeleepetitepeautreechalotesroquette}
	

\part{Les desserts}
	\chapitre{Tartes}
\input{./recettes/tartemousseuseauxframboises}
\input{./recettes/tarteauxpommesalsaciennefaconclaire}
	\chapitre{G\^ateaux}
\input{./recettes/amandinesalapoire}
\input{./recettes/browniesfaconclaire}
\input{./recettes/fondantauchocolatfaconclaire}
\input{./recettes/gateauauchocolatfaconclaire}
\input{./recettes/muffinsauxpepitesdechocolatfaconclaire}
\input{./recettes/scones}
\input{./recettes/gateauauyaourt}
\input{./recettes/gateaumeringue}		
	\chapitre{Flans}
\input{./recettes/millasbordelais}
\input{./recettes/flan}
	\chapitre{Brioches et viennoiseries}
\input{./recettes/kugelhof}
\input{./recettes/galetteausucre}
\input{./recettes/paindepicefaconclaire}
\input{./recettes/briochealapureedamandesetaucitron}
	\chapitre{Mousses}
	\chapitre{Cr\`emes}
\input{./recettes/crememicmac}
\input{./recettes/cremerenversee}
	\chapitre{Verrines}
\input{./recettes/tiramisuauxfranboisesenverrines}	
	\chapitre{Biscuits}
\input{./recettes/biscuitsdenoelalacannelle}
\input{./recettes/cookiesfaconclaire}
\input{./recettes/biscuitsdamiers}
\input{./recettes/croissantsvanille}
	\chapitre{Fruits}
\input{./recettes/pechesascona}
	\chapitre{Glaces}
	\chapitre{Non classés}
\input{./recettes/teurgoule}
\input{./recettes/cigaresbananechocolat}
\input{./recettes/oeufsalaneige}
\input{./recettes/falafels}


\part{Les p\^ates et "Morceaux de Recettes"}
	\chapitre{P\^ate à ...}
\input{./recettes/pateaquiche}
\input{./recettes/patebriseefaconclaire}
\input{./recettes/pancakes}
\input{./recettes/pateacrepesfaconclaire}
\input{./recettes/pateagaufres}
	\chapitre{P\^at\'e}
	\chapitre{Sauces}
\input{./recettes/pestorouge}

\part{Quelle recette aujourd'hui ?}
%	\chapitre{Rapide et simple}
%	\chapitre{Aujourd'hui on reçoit}
%	\chapitre{Recette d'hiver}
%	\chapitre{Recette d'\'et\'e}

\addcontentsline{toc}{chapitre}{\listchoconame}
\listofchoco

\printindex

\backmatter

\end{document}